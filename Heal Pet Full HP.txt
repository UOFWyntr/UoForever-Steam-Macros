clearjournal
while not @findobject meta
  promptalias meta
endwhile
if @timer metabandaid < 7500
  headmsg '**Already healing**' 55 meta
  stop
endif
if inrange meta 1
  if poisoned meta
    bandage meta
    createtimer metabandaid
    while not @injournal 'finish applying the' system
      if not inrange meta 2
        headmsg 'Out of range' 43 meta
        removetimer metabandaid
        clearjournal
        stop
      endif
      pause 500
    endwhile
    removetimer metabandaid
    clearjournal
  endif
  while hits meta < maxhits
    bandage meta
    createtimer metabandaid
    while not @injournal 'finish applying the' system
      if not inrange meta 2
        headmsg 'Out of range' 43 meta
        removetimer metabandaid
        clearjournal
        stop
      endif
      pause 500
    endwhile
    removetimer metabandaid
    clearjournal
  endwhile
else
  headmsg 'Get closer!' 48 meta
  stop
endif
headmsg '**Full Health**' 85 meta
