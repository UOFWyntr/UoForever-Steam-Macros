clearjournal
while not @findobject meta
  headmsg 'Select meta..' 43
  promptalias meta
endwhile
while not @findobject pet
  headmsg 'Select secondary pet..' 43
  promptalias pet
endwhile
if @timer metabandaid < 7500
  headmsg '**Already healing**' 55
  while @timer metabandaid < 7500
  endwhile
endif
//check to heal meta
headmsg 'Checking meta health..' 43 meta
if diffhits meta > diffhits pet
  if inrange meta 1
    if poisoned meta
      sysmsg 'Curing meta..' 43
      bandage meta
      createtimer metabandaid
      while not @injournal 'finish applying the' system
        if not inrange meta 2
          headmsg 'Out of range' 43 meta
          removetimer metabandaid
          clearjournal
          stop
        endif
        pause 500
      endwhile
      removetimer metabandaid
      clearjournal
    endif
    while hits meta < maxhits
      sysmsg 'Healing meta..' 43
      bandage meta
      createtimer metabandaid
      while not @injournal 'finish applying the' system
        if not inrange meta 2
          headmsg 'Out of range' 43 meta
          removetimer metabandaid
          clearjournal
          stop
        endif
        pause 500
      endwhile
      headmsg '**Full Health**' 85 meta
      removetimer metabandaid
      clearjournal
    endwhile
  else
    headmsg 'Get closer!' 48 meta
    stop
  endif
endif
//check to see if heal pet
headmsg 'Checking secondary pet health..' 43 pet
if diffhits pet > diffhits meta
  if inrange pet 1
    if poisoned pet
      sysmsg 'Curing secondary pet..' 43
      bandage pet
      createtimer metabandaid
      while not @injournal 'finish applying the' system
        if not inrange pet 2
          headmsg 'Out of range' 43 pet
          removetimer metabandaid
          clearjournal
          stop
        endif
        pause 500
      endwhile
      headmsg '**Full Health**' 85 pet
      removetimer metabandaid
      clearjournal
    endif
    while hits pet < maxhits
      sysmsg 'Healing secondary pet..' 43
      bandage pet
      createtimer metabandaid
      while not @injournal 'finish applying the' system
        if not inrange pet 2
          headmsg 'Out of range' 43 pet
          removetimer metabandaid
          clearjournal
          stop
        endif
        pause 500
      endwhile
      removetimer metabandaid
      clearjournal
    endwhile
  else
    headmsg 'Get closer!' 48 pet
    stop
  endif
endif
headmsg '**Full Health**' 85
