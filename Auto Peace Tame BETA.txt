clearjournal
if not listexists peaceables
  createlist peaceables
  //pushlist peaceables 0xcd //bunny
  pushlist peaceables 0x7 //large hellcats
  pushlist peaceables 0x62 //hell hounds
  pushlist peaceables 0xce //lava lizards
  pushlist peaceables 0x30 //scorpion
endif
if not @findobject 'instrument'
  if @findtype '0xe9e' 'backpack' 'any' //Tambourine with red tassle
    @setalias 'instrument' 'found'
  elseif @findtype '0x2805' 'any' 'backpack' //Flute
    @setalias 'instrument' 'found'
    headmsg "Instrument set." '66'
    @useobject 'instrument'
  elseif @findtype '0xe9d' '0' 'backpack'//Tambourine
    @setalias 'instrument' 'found'
    @useobject 'instrument'
  elseif @findtype '0xe9c' '0' 'backpack' //Drum
    @setalias 'instrument' 'found'
    @useobject 'instrument'
  elseif @findtype '0xeb3' '0' 'backpack' //Lute
    @setalias 'instrument' 'found'
    @useobject 'instrument'
  elseif @findtype '0xeb2' '0' 'backpack' //Lap Harp
    @setalias 'instrument' 'found'
    @useobject 'instrument'
  elseif @findtype '0xeb1' '0' 'backpack' //Standing Harp
    @setalias 'instrument' 'found'
    useobject 'instrument'
  else
    headmsg 'No instrument found'
    stop
  endif
endif
cancelautotarget
canceltarget
for 0 to peaceables
  if @findtype peaceables[] any ground 0 10
    @setalias peacetame found
    break
  endif
endfor
if @inrange peacetame 10
  while not @injournal 'play hypnotic music' system
    headmsg 'Peaceing' 56 peacetame
    useskill peacemaking
    pause 500
    if @injournal 'instrument shall you' system
      pause 500
      target! instrument
      clearjournal
      pause 500
    endif
    if @injournal 'must wait a few moments to use' system
      headmsg '**Peace Not Ready**' 32
      @canceltarget
      clearjournal
      stop
    endif
    if @injournal 'cannot be seen' system
      headmsg '**Target Cannot Be Seen**' 32
      @canceltarget
      clearjournal
      stop
    endif
    waitfortarget 5000
    target! peacetame
    pause 500
    if @injournal 'play poorly, and there is no' system
      headmsg '**PEACE FAILURE**' 32 peacetame
      pause 5000
      clearjournal
      replay
    endif
    if @injournal 'play hypnotic music' system or @injournal 'creature is already being' system
      if @injournal 'creature is already being' system
        headmsg '**Already Peaced**' 32 peacetame
        clearjournal
        break
      else
        headmsg 'Peace Succesful' 56 peacetame
        createtimer peacetimer
        clearjournal
        pause 5000
        break
      endif
    endif
  endwhile
endif
while timer peacetimer < 30000
  if @inrange peacetame 2
    useskill 'animal taming'
    waitfortarget 2000
    target! peacetame
    pause 1000
    if not @inrange 'peacetame' 1
      if @x 'peacetame' > x 'self' and @y 'peacetame' > y 'self'
        walk 'Southeast'
      elseif @x 'peacetame' < x 'self' and @y 'peacetame' > y 'self'
        walk 'Southwest'
      elseif @x 'peacetame' > x 'self' and @y 'peacetame' < y 'self'
        walk 'Northeast'
      elseif @x 'peacetame' < x 'self' and @y 'peacetame' < y 'self'
        walk 'Northwest'
      elseif @x 'peacetame' > x 'self' and @y 'peacetame' == y 'self'
        walk 'East'
      elseif @x 'peacetame' < x 'self' and @y 'peacetame' == y 'self'
        walk 'West'
      elseif @x 'peacetame' == x 'self' and @y 'peacetame' > y 'self'
        walk 'South'
      elseif @x 'peacetame' == x 'self' and @y 'peacetame' < y 'self'
        walk 'North'
      endif
    endif
    rename peacetame 'BBQ'
    pause 500
    waitforcontext peacetame 8 1000
    //pause 500
    waitforgump 0x909cc741 1000
    //pause 500
    if @replygump 0x909cc741 2
      headmsg 'Released' 56 peacetame
      pause 2000
      ignoreobject peacetame
      @unsetalias peacetame
      stop
    endif
  else
    headmsg 'Get Close' 56
    pause 1000
  endif
endwhile
replay
