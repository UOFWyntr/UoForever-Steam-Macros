//gheals color 53
//gcures color 43
//grefresh color 133
//bottles, colored kegs, and potions all go into same chest
while not @findobject potions
  promptalias potions
endwhile
clearjournal
useobject potions
pause 1000
//gheals
headmsg 'gheals'
if @findtype 0x1940 53 potions
  setalias kegger found
  clickobject kegger
  pause 1000
  if @injournal "The keg is empty." system
    headmsg 'keg is empty'
    ignoreobject kegger
    clearjournal
    replay
  else
    while @counttype 0xf0c any potions < 50
      headmsg 'filling'
      useobject kegger
      waitfortarget 5000
      if @findtype 0xf0e any potions
        target! found
      endif
      pause 1000
      if @injournal 'keg is empty' system
        headmsg 'keg is empty'
        ignoreobject kegger
        clearjournal
        replay
      endif
    endwhile
    headmsg 'gheals done'
  endif
else
  headmsg 'out of gheal kegs'
endif
//gcures
headmsg 'gcures'
if @findtype 0x1940 43 potions
  setalias kegger found
  clickobject kegger
  pause 1000
  if @injournal "The keg is empty." system
    headmsg 'keg is empty'
    ignoreobject kegger
    clearjournal
    replay
  else
    while @counttype 0xf07 any potions < 50
      headmsg 'filling'
      useobject kegger
      waitfortarget 5000
      if @findtype 0xf0e any potions
        target! found
      endif
      pause 1000
      if @injournal 'keg is empty' system
        headmsg 'keg is empty'
        ignoreobject kegger
        clearjournal
        replay
      endif
    endwhile
    headmsg 'gcures done'
  endif
else
  headmsg 'out of gcure kegs'
endif
//grefreshs
headmsg 'grefresh'
if @findtype 0x1940 133 potions
  setalias kegger found
  clickobject kegger
  pause 1000
  if @injournal "The keg is empty." system
    headmsg 'keg is empty'
    ignoreobject kegger
    clearjournal
    replay
  else
    while @counttype 0xf0b any potions < 50
      headmsg 'filling'
      useobject kegger
      waitfortarget 5000
      if @findtype 0xf0e any potions
        target! found
      endif
      pause 1000
      if @injournal 'keg is empty' system
        headmsg 'keg is empty'
        ignoreobject kegger
        clearjournal
        replay
      endif
    endwhile
    headmsg 'grefreshs done'
  endif
else
  headmsg 'out of grefresh kegs'
endif
